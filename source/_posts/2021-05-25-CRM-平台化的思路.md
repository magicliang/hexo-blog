---
title: CRM 平台化的思路
date: 2021-05-25 16:56:50
tags:
- 系统架构
---
# 从外到内

对企业来讲，获客、维护客户关系是很重要。每个企业都有自己的 CRM 平台。

# 数据建模

## 业务流程

划分流程，从流程获得各种域。

## 通用语言

制作数据字典。

## 划分领域

不同的域有不同的实体。

- 客户管理域
- 工具管理域
- 过程管理域
- 数据策略域

## 数据模型

**共性抽象统一，差异元数据扩展支持。**

# 流程逻辑

## 通用设计

- 抽象核心标准流程
- 非核心流程异步后处理
- 适配不同的业务流程

## 差异

- 标准流程抽象扩展点。
- 基于业务/租户的扩展点实现，解耦业务代码。
- 扩展点注解标识，降低代码侵入。

## 规则设计

规则配置（表达式配置、脚本配置）=因子配置（因子标识、取数方式、入参、返回值定义）+ 关系运算（到底有多少种运算符） + 值域配置（手动配置、接口配置 DSL）

## 业务身份设计

服务端引用业务身份 sdk，通过 sdk 的标准接口进行解耦和扩展。

# 架构支撑

可以考虑业务之间通过单元化/轻量级单元化进行相互隔离，考虑单元内多租户设计。

注意 fallback 到主干上还要留一手 failfast，避免主干被打死。
