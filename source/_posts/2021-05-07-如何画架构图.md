---
title: 如何画架构图
date: 2021-05-07 20:39:55
tags:
- 系统架构
---
# 前言

- 有意义且具备**一致性（coherence）**的架构图有助于为不同的**利益相关者（stakeholder）澄清事实**，并达成共识。
- 一致性要求我们有足够好的指导原则，让我们知道标准的**图元**是什么。
- “架构是一项复杂的工作，只使用单个图表来表示架构很容易造成莫名其妙的语义混乱”。
- 在同一个架构图里添加不同层级的抽象可能会导致冲突的出现，因为它们是从不同的角度描述问题的。
- 应该在架构图旁边加上图例。
- 架构图越多就越难以理解，而且维护起来也很费劲。最直接的后果就是有可能出现碎片化（比如，通过两到三个架构图来描述同样的质量属性——性能、伸缩性，等等——但每一个架构图都无法完整地描述它们）。在这种情况下，建议移除不能反映相关质量属性的架构图，或者把它们合并起来。

# C4

Context -> Container -> Component -> Code

![total-diagram.jpeg](total-diagram.jpeg)
![context-diagram.jpeg](context-diagram.jpeg)
![container-diagram.jpeg](container-diagram.jpeg)
![component-diagram.jpeg](component-diagram.jpeg)
![code-diagram.jpeg](code-diagram.jpeg)

c4 意味着 4 个层次的架构图，自顶向下。

> C4 模型没有预定义任何特定的符号，你在这些示例图中看到的是一个个简单的符号，适用于白板、纸张、便签、索引卡片和各种图表工具。你也可以使用
> UML
> 作为符号，并适当使用包、组件和原型。无论你使用哪种符号，我都会建议让每个元素都包含名称、元素类型（即“人”、“软件系统”，“容器”或“组件”）、技术选型（如果有的话），以及一些描述性文字。在图表中包含如此多的文本可能看起来很不寻常，但这些附加文本有助于消除软件架构图中通常会出现的不明确的表示。

图元素里至少要包括：名称、类型、描述和其他属性。
线头至少包括：方向、多对多关系、动作（有时候包含宾语）。


# 4 + 1 视图

# 漏斗图


