---
title: UTXO 问题
date: 2018-01-19 18:50:07
tags:
---

UTXO 的全称的 unspent transaction output，就是没有被人用过的可用资金。

这个模型是比特币首创的，被其他货币所模仿。以太坊天然的模型不是 UTXO 而是 account balance。

UTXO 必须配平，UTXO 的输入者必须上一个 UTXO 的输出者：

![UTXO的描述图][1]

这就把一个一个账户型数据库，转成了链式的交易数据库，交易要靠 merge 整个数据库的相关节点。

UTXO 的好处是：

- 更加好的隐私模型
- 更加强的并发范型（因为不会触发间隙锁了吗？）

以太坊没有使用 UTXO 模型，而使用 account balance 模型。account balance 模型比 UTXO 模型更加容易实现智能合约，且具有以下优点：

- 节省更多存储空间。
- 更高的可替代性 - UTXO 模型不适合拿来实现黑名单。
- 简单：账户模型更好编码也更好理解。

账户模型的缺点是，为了防止重放攻击，必须追踪交易的 nounce。

参考资料：

- [What are the pros and cons of Ethereum balances vs. UTXOs?][2]

  [1]: http://8btc.com/data/attachment/portal/201702/03/140447qe7vo3vt7g22slev.jpg
  [2]: https://ethereum.stackexchange.com/questions/326/what-are-the-pros-and-cons-of-ethereum-balances-vs-utxos
